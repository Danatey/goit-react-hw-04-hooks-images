(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(6),r=n.n(o),i=n(9),s=n(4),u=n(18),l=n.n(u),j="https://pixabay.com/api",b="21923762-625ed23d6fd96f8b8b3fcd755",d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat(j,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(b,"&image_type=photo&orientation=horizontal&per_page=12");return l.a.get(n)},m=n(0),h=document.querySelector("#modal-root"),f=function(e){var t=e.onCloseModal,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(m.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:"Modal",children:n})}),h)},O=function(e){var t=e.onSearch,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1],i=function(){r("")};return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o),i()},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value)}})]})})},g=n(19),p=n.n(g),x=(n(63),function(){return Object(m.jsx)("button",{className:"Loader",variant:"primary",disabled:!0,children:Object(m.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}),v=function(e){var t=e.images,n=e.onClick;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL;return Object(m.jsx)("li",{className:"ImageGalleryItem",children:Object(m.jsx)("img",{onClick:function(){return n(a)},src:c,alt:"",className:"ImageGalleryItem-image"})},t)}))})},S=function(e){var t=e.images,n=e.onClick;return Object(m.jsx)("ul",{className:"ImageGallery",children:Object(m.jsx)(v,{images:t,onClick:n})})},y=function(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},k=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(1),r=Object(s.a)(o,2),u=r[0],l=r[1],j=Object(c.useState)(""),b=Object(s.a)(j,2),h=b[0],g=b[1],p=Object(c.useState)(!1),v=Object(s.a)(p,2),k=v[0],w=v[1],C=Object(c.useState)(""),N=Object(s.a)(C,2),L=N[0],F=N[1],I=Object(c.useState)("loading"),E=Object(s.a)(I,2),R=E[0],U=E[1],M=Object(c.useState)(!1),B=Object(s.a)(M,2),G=B[0],T=B[1];Object(c.useEffect)((function(){""!==h&&d(h,u).then((function(e){var t=e.data.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}));a((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).finally((function(){return u>2&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),T(!1)}))}),[u,h]);var q=function(){return w(!k)},J=n.length>0&&!G;return Object(m.jsxs)(m.Fragment,{children:[k&&Object(m.jsxs)(f,{onCloseModal:q,children:["loading"===R&&Object(m.jsx)(x,{}),Object(m.jsx)("img",{src:L,alt:"",onLoad:function(){return U("loaded")}})]}),Object(m.jsx)(O,{onSearch:function(e){g(e),l(1),a([])}}),Object(m.jsx)(S,{images:n,onClick:function(e){F(e),q(),U("loading")}}),J&&Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(y,{onClick:function(){T(!0),l((function(e){return e+1}))},isLoading:G})})]})};n(64);r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.6aa2b059.chunk.js.map